article img
	// When images are too wide, force them to fit (see responsive section for more)
	max-width: 100%
	// Override height to match resized width for correct aspect ratio
	height: auto

img
	&.in-text
		float: right
		margin: 6px 0 2px 8px
	&.demo
		margin-right: 0.5em
		border: 2px inset #cccccc
		background: image-url("bckg-transparent.png") repeat

.main-content > article
	.oversized
		width: 100%
		max-width: 100%
		padding: 0 10px
		margin-bottom: 2em

		img
			display: block
			margin: 0 auto

		@media (max-width: $medium-width)
			padding: 0

	.post__splash
		position: relative
		display: flex
		align-items: center
		justify-content: center
		padding: 0
		margin-bottom: 1rem
		overflow: hidden
		min-height: 400px
		height: 35vw
		max-height: 750px

		> img
			min-width: 100%
			min-height: 100%
			max-width: 300%
			object-fit: cover

		@media (max-width: $medium-width)
			min-height: 300px

		&:after
			content: ""
			position: absolute
			top: 0
			bottom: 0
			left: 0
			right: 0
			z-index: 1
			// -30px spread radius makes it 20px bigger on all sides
			box-shadow: inset 0 -20px 30px -20px black

		// Remove box shadow on svgs (which usually have transparency)
		&.is-svg:after
			content: normal

		> img
			height: auto
			// Leave 15px for parallax the other way
			margin-bottom: -15px
			
			@media (max-width: $medium-width)
				margin-bottom: 0

		.no-js &
			// With no-js version, compensate for extra padding on title
			margin-bottom: -75px

	.post__splash--credit
		font-size: 0.9rem
		line-height: 1.25
		font-style: italic
		color: $color-text-muted
		text-shadow: 1px 1px 1px black

		p
			margin: -0.25rem 0 1rem

.has-post__splash
	#logo
		display: none
