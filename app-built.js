"use strict";(()=>{var D,o=(D=globalThis.window)!==null&&D!==void 0?D:globalThis,_=!1,L=!1,W=!0,y=o?.scrollY,w=o?.scrollX,N=y,M=w,b=null,C=null,a={x:[],y:[]};function re(){let e=!1;a.x.length&&(w=o.scrollX),a.y.length&&(y=o.scrollY);let t={scrollX:w,scrollY:y},i=new Set;y!==N&&(a.y.forEach(n=>{n(t),i.add(n)}),N=y,e=!0),w!==M&&(a.x.forEach(n=>{i.has(n)||n(t)}),M=w,e=!0),e&&b!=null&&(clearTimeout(b),b=null),L=!1,q()}function G(){if(!(_||L)){if(M=w=o?.scrollX,N=y=o?.scrollY,W){_=!0,o.addEventListener("scroll",A),document.body.addEventListener("touchmove",A);return}q()}}function J(){_&&(o.removeEventListener("scroll",A),document.body.removeEventListener("touchmove",A),_=!1)}function A(){W=!1,q(),J()}function q(){L||(b==null&&(b=setTimeout(se,1500)),C=o.requestAnimationFrame(re),L=!0)}function K(){L&&(C!=null&&(o.cancelAnimationFrame(C),C=null),L=!1)}function se(){W=!0,K(),G()}function T(e,t={}){G();let{x:i,y:n,horizontal:u=i,vertical:s=n}=t;return!u&&!s&&(s=!0),u&&(a.x=a.x.concat(e)),s&&(a.y=a.y.concat(e)),()=>{if(u){let x=a.x.indexOf(e);x>-1&&a.x.splice(x,1)}if(s){let x=a.y.indexOf(e);x>-1&&a.y.splice(x,1)}!a.x.length&&!a.y.length&&(K(),J())}}var P,E=(P=globalThis.window)!==null&&P!==void 0?P:globalThis,h=null,c=null,I=0,d=!1,p=!1,v=null,$="fixed",m=null,f=null,l=null,r={},H={};function Z(){l&&(d=!0,p=!1,m&&l.classList.add(m),f&&l.classList.remove(f),l.style.position=$,l.style.top="0px",r.top=0)}function ae(){if(!l||!d||r.height==null||c==null||h==null)return;I=0,d=!1,m&&l.classList.remove(m),f&&l.classList.remove(f);let e=null;p?p=!1:c>h+r.height+5?e=h+5:e=c,e!=null&&(l.style.top=e+"px",r.top=e),l.style.position="absolute"}function ce(){return!d&&r.top>c?(Z(),!0):!1}function ue({scrollY:e}){if(c=e,l==null||H.clientHeight==null||H.scrollHeight==null||r.height==null||r.top==null||h==null||c<0)return;let t=c-h;h=c,!ce()&&(t<0?!d&&t>r.height||p&&c<=r.top+2?Z():!d&&!p&&(I>6&&(d=!0,r.height=l.offsetHeight,c>r.top+r.height+25&&(r.top=c-r.height-25,l.style.top=r.top+"px",f&&l.classList.add(f)),p=!0),I++):d&&ae())}function ee(){v=null,c=h=E.scrollY,H.clientHeight=document.documentElement.clientHeight,H.scrollHeight=document.documentElement.scrollHeight,r.height=l?.offsetHeight}function V(){v!=null&&E.clearTimeout(v),v=E.setTimeout(ee,150)}function te(e,t={}){l=e,$=t.useSticky?"sticky":"fixed",t.classNameAffixed&&(m=t.classNameAffixed),t.classNameAffixing&&(f=t.classNameAffixing);let i=l.style.position,n=l.style.top;l.style.position="absolute",l.style.top="0px",r.top=0,ee(),E.addEventListener("resize",V);let u=T(ue,{vertical:!0});return()=>{u(),E.removeEventListener("resize",V),l&&(l.style.position=i,l.style.top=n,m&&l.classList.remove(m),f&&l.classList.remove(f),l=null),$="fixed",m=f=null,r=H={},p=d=!1,c=h=null,I=0,v!=null&&(E.clearTimeout(v),v=null)}}function O(e){var t=window.location.hostname.replace("www.",""),i="mai",n="and",u,s;for(i+="lto:"+n,i+="rew@"+t,n+="rew",n+="&#64;"+t,i+="?subject="+encodeURI(document.title),u=function(){this.href=i},s=0;s<e.length;++s)e[s].addEventListener("click",u),e[s].innerHTML=n}function fe(){var e=this.parentElement.previousElementSibling,t="is-toggled",i="data-text"+(e.classList.contains(t)?"":"-toggled"),n;e!==null&&(e.classList.toggle(t),n=this.getAttribute(i),n&&n.length&&(this.innerHTML=n))}function F(){var e=document.querySelectorAll(".image-comparison-toggle"),t,i;for(i=0;i<e.length;i++)t=previousElementSibling(e[i].parentElement),t!==null&&(t.classList.add("image-comparison-wrap"),e[i].setAttribute("data-text",e[i].innerHTML),e[i].addEventListener("click",fe))}function X(){document.querySelectorAll("img").forEach(t=>{(t.naturalWidth>t.clientWidth||t.naturalHeight>t.clientHeight)&&(t.style.cursor="zoom-in",t.addEventListener("click",i=>{i.preventDefault(),de(t)}))})}function de(e){let t=e.getBoundingClientRect(),i=document.createElement("div");i.style.cssText="    position: fixed;    top: 0;    left: 0;    right: 0;    bottom: 0;    background: rgba(0, 0, 0, 0);    display: flex;    align-items: center;    justify-content: center;    z-index: 10000;    cursor: zoom-out;    opacity: 1;    transition: background 300ms cubic-bezier(0.23, 1, 0.32, 1), opacity 300ms ease-out;";let n=document.createElement("img"),u=window.innerWidth,s=window.innerHeight,x=Math.min(u/e.naturalWidth,s/e.naturalHeight,1);n.src=e.src,n.srcset=e.srcset||"",n.alt=e.alt,n.style.cssText=`    position: fixed;    top: ${t.top}px;    left: ${t.left}px;    width: ${t.width}px;    height: ${t.height}px;    object-fit: contain;    transition: all 300ms cubic-bezier(0.34, 1.4, 0.64, 1);`,i.appendChild(n),document.body.appendChild(i),requestAnimationFrame(()=>{i.style.background="rgba(0, 0, 0, 0.9)";let S=Math.min(e.naturalWidth,u),U=Math.min(e.naturalHeight,s),le=(s-U)/2,oe=(u-S)/2;n.style.top=`${le}px`,n.style.left=`${oe}px`,n.style.width=`${S}px`,n.style.height=`${U}px`});let j=()=>{i.style.opacity="0",setTimeout(()=>i.remove(),300)};i.addEventListener("click",j);let Q=S=>{S.key==="Escape"&&(j(),document.removeEventListener("keydown",Q))};document.addEventListener("keydown",Q)}var g=null,Y=null;var B,k,ie,ne;function z(e){if(k=e?e.scrollY:window.scrollY,Y===null){if(g===null||!g.naturalWidth){window.setTimeout(z,150);return}Y=g.parentElement,g.src.substring(g.src.length-4)===".svg"&&Y.classList.add("is-svg"),ie=k,B&&B(),B=T(z)}var t=Y.clientHeight,i=k/t;if(!(i>1)){var n=(g.clientHeight-t)/2;n<=10||(ie=k,g.style.transform="translateY("+Math.min(Math.round(n*i*-1),n)+"px)")}}function me(){ne&&window.clearTimeout(ne),window.setTimeout(z,150)}function R(e){e&&(g=e,z(window.pageYOffset),window.addEventListener("resize",me))}addEventListener("DOMContentLoaded",function(){O(document.querySelectorAll(".get-in-touch-link")),F(),R(document.querySelector(".post__splash > img")),te(document.querySelector(".header-menubar"))});addEventListener("load",function(){X()});})();
