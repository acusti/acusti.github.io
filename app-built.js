"use strict";(()=>{var z,o=(z=globalThis.window)!==null&&z!==void 0?z:globalThis,W=!1,_=!1,q=!0,L=o?.scrollY,T=o?.scrollX,P=L,k=T,H=null,A=null,u={x:[],y:[]};function ie(){let e=!1;u.x.length&&(T=o.scrollX),u.y.length&&(L=o.scrollY);let i={scrollX:T,scrollY:L},l=new Set;L!==P&&(u.y.forEach(n=>{n(i),l.add(n)}),P=L,e=!0),T!==k&&(u.x.forEach(n=>{l.has(n)||n(i)}),k=T,e=!0),e&&H!=null&&(clearTimeout(H),H=null),_=!1,M()}function j(){if(!(W||_)){if(k=T=o?.scrollX,P=L=o?.scrollY,q){W=!0,o.addEventListener("scroll",I),document.body.addEventListener("touchmove",I);return}M()}}function U(){W&&(o.removeEventListener("scroll",I),document.body.removeEventListener("touchmove",I),W=!1)}function I(){q=!1,M(),U()}function M(){_||(H==null&&(H=setTimeout(le,1500)),A=o.requestAnimationFrame(ie),_=!0)}function G(){_&&(A!=null&&(o.cancelAnimationFrame(A),A=null),_=!1)}function le(){q=!0,G(),j()}function S(e,i={}){j();let{x:l,y:n,horizontal:g=l,vertical:d=n}=i;return!g&&!d&&(d=!0),g&&(u.x=u.x.concat(e)),d&&(u.y=u.y.concat(e)),()=>{if(g){let E=u.x.indexOf(e);E>-1&&u.x.splice(E,1)}if(d){let E=u.y.indexOf(e);E>-1&&u.y.splice(E,1)}!u.x.length&&!u.y.length&&(G(),U())}}var O,b=(O=globalThis.window)!==null&&O!==void 0?O:globalThis,x=null,c=null,Y=0,h=!1,v=!1,w=null,X="fixed",p=null,m=null,t=null,r={},C={};function K(){t&&(h=!0,v=!1,p&&t.classList.add(p),m&&t.classList.remove(m),t.style.position=X,t.style.top="0px",r.top=0)}function ne(){if(!t||!h||r.height==null||c==null||x==null)return;Y=0,h=!1,p&&t.classList.remove(p),m&&t.classList.remove(m);let e=null;v?v=!1:c>x+r.height+5?e=x+5:e=c,e!=null&&(t.style.top=e+"px",r.top=e),t.style.position="absolute"}function oe(){return!h&&r.top>c?(K(),!0):!1}function re({scrollY:e}){if(c=e,t==null||C.clientHeight==null||C.scrollHeight==null||r.height==null||r.top==null||x==null||c<0)return;let i=c-x;x=c,!oe()&&(i<0?!h&&i>r.height||v&&c<=r.top+2?K():!h&&!v&&(Y>6&&(h=!0,r.height=t.offsetHeight,c>r.top+r.height+25&&(r.top=c-r.height-25,t.style.top=r.top+"px",m&&t.classList.add(m)),v=!0),Y++):h&&ne())}function V(){w=null,c=x=b.scrollY,C.clientHeight=document.documentElement.clientHeight,C.scrollHeight=document.documentElement.scrollHeight,r.height=t?.offsetHeight}function J(){w!=null&&b.clearTimeout(w),w=b.setTimeout(V,150)}function Z(e,i={}){t=e,X=i.useSticky?"sticky":"fixed",i.classNameAffixed&&(p=i.classNameAffixed),i.classNameAffixing&&(m=i.classNameAffixing);let l=t.style.position,n=t.style.top;t.style.position="absolute",t.style.top="0px",r.top=0,V(),b.addEventListener("resize",J);let g=S(re,{vertical:!0});return()=>{g(),b.removeEventListener("resize",J),t&&(t.style.position=l,t.style.top=n,p&&t.classList.remove(p),m&&t.classList.remove(m),t=null),X="fixed",p=m=null,r=C={},v=h=!1,c=x=null,Y=0,w!=null&&(b.clearTimeout(w),w=null)}}function F(e){var i=window.location.hostname.replace("www.",""),l="mai",n="and",g,d;for(l+="lto:"+n,l+="rew@"+i,n+="rew",n+="&#64;"+i,l+="?subject="+encodeURI(document.title),g=function(){this.href=l},d=0;d<e.length;++d)e[d].addEventListener("click",g),e[d].innerHTML=n}function se(){var e=this.parentElement.previousElementSibling,i="is-toggled",l="data-text"+(e.classList.contains(i)?"":"-toggled"),n;e!==null&&(e.classList.toggle(i),n=this.getAttribute(l),n&&n.length&&(this.innerHTML=n))}function B(){var e=document.querySelectorAll(".image-comparison-toggle"),i,l;for(l=0;l<e.length;l++)i=previousElementSibling(e[l].parentElement),i!==null&&(i.classList.add("image-comparison-wrap"),e[l].setAttribute("data-text",e[l].innerHTML),e[l].addEventListener("click",se))}var a=null,s=null,$=.3,f={image:{},image_wrap:{}},y,N,D,ee;function R(e){if(N=e,s===null){if(a===null||!a.naturalWidth)return window.setTimeout(R,150),!1;s=a.parentElement,document.body.classList.add("is-loaded"),a.src.substring(a.src.length-4)===".svg"&&s.classList.add("is-svg"),te(),D=N}Math.abs(N-D)*$<1.5||(D=N,!(a.clientHeight-20<s.clientHeight)&&(a.style.bottom=Math.floor(D*$*-1)+"px"))}function te(){if(a===null||s===null){y&&y();return}if(f.image.height=a.clientHeight,f.image_wrap.height=s.clientHeight,f.image.height-15<f.image_wrap.height){s.classList.remove("is-cropped"),s.classList.remove("is-full-bleed"),s.style.height="",y&&y();return}y&&y(),y=S(R),f.image.naturalWidth=a.naturalWidth,f.image_wrap.width=s.clientWidth,s.style.height=f.image_wrap.height+"px",s.classList.add("is-cropped"),a.clientWidth<s.clientWidth?s.style.width=a.clientWidth+"px":(s.style.width="",f.image.naturalWidth>2100&&f.image.naturalWidth/2<s.clientWidth?(a.style.maxWidth=f.image.naturalWidth/2+"px",s.style.width=f.image.naturalWidth/2+"px"):(a.style.maxWidth="",s.style.width=""))}function ae(){ee&&window.clearTimeout(ee),window.setTimeout(te,150)}function Q(e){e&&(a=e,R(window.pageYOffset),window.addEventListener("resize",ae))}addEventListener("DOMContentLoaded",function(){F(document.querySelectorAll(".get-in-touch-link")),B(),Q(document.querySelector(".post__splash > img")),Z(document.querySelector(".header-menubar"))});})();
