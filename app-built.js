"use strict";(()=>{var z,o=(z=globalThis.window)!==null&&z!==void 0?z:globalThis,W=!1,E=!1,q=!0,L=o?.scrollY,T=o?.scrollX,P=L,k=T,b=null,A=null,a={x:[],y:[]};function ie(){let e=!1;a.x.length&&(T=o.scrollX),a.y.length&&(L=o.scrollY);let i={scrollX:T,scrollY:L},l=new Set;L!==P&&(a.y.forEach(n=>{n(i),l.add(n)}),P=L,e=!0),T!==k&&(a.x.forEach(n=>{l.has(n)||n(i)}),k=T,e=!0),e&&b!=null&&(clearTimeout(b),b=null),E=!1,M()}function j(){if(!(W||E)){if(k=T=o?.scrollX,P=L=o?.scrollY,q){W=!0,o.addEventListener("scroll",Y),document.body.addEventListener("touchmove",Y);return}M()}}function U(){W&&(o.removeEventListener("scroll",Y),document.body.removeEventListener("touchmove",Y),W=!1)}function Y(){q=!1,M(),U()}function M(){E||(b==null&&(b=setTimeout(le,1500)),A=o.requestAnimationFrame(ie),E=!0)}function G(){E&&(A!=null&&(o.cancelAnimationFrame(A),A=null),E=!1)}function le(){q=!0,G(),j()}function H(e,i={}){j();let{x:l,y:n,horizontal:g=l,vertical:f=n}=i;return!g&&!f&&(f=!0),g&&(a.x=a.x.concat(e)),f&&(a.y=a.y.concat(e)),()=>{if(g){let _=a.x.indexOf(e);_>-1&&a.x.splice(_,1)}if(f){let _=a.y.indexOf(e);_>-1&&a.y.splice(_,1)}!a.x.length&&!a.y.length&&(G(),U())}}var O,S=(O=globalThis.window)!==null&&O!==void 0?O:globalThis,x=null,u=null,I=0,m=!1,v=!1,w=null,X="fixed",p=null,d=null,t=null,r={},C={};function K(){t&&(m=!0,v=!1,p&&t.classList.add(p),d&&t.classList.remove(d),t.style.position=X,t.style.top="0px",r.top=0)}function ne(){if(!t||!m||r.height==null||u==null||x==null)return;I=0,m=!1,p&&t.classList.remove(p),d&&t.classList.remove(d);let e=null;v?v=!1:u>x+r.height+5?e=x+5:e=u,e!=null&&(t.style.top=e+"px",r.top=e),t.style.position="absolute"}function oe(){return!m&&r.top>u?(K(),!0):!1}function re({scrollY:e}){if(u=e,t==null||C.clientHeight==null||C.scrollHeight==null||r.height==null||r.top==null||x==null||u<0)return;let i=u-x;x=u,!oe()&&(i<0?!m&&i>r.height||v&&u<=r.top+2?K():!m&&!v&&(I>6&&(m=!0,r.height=t.offsetHeight,u>r.top+r.height+25&&(r.top=u-r.height-25,t.style.top=r.top+"px",d&&t.classList.add(d)),v=!0),I++):m&&ne())}function V(){w=null,u=x=S.scrollY,C.clientHeight=document.documentElement.clientHeight,C.scrollHeight=document.documentElement.scrollHeight,r.height=t?.offsetHeight}function J(){w!=null&&S.clearTimeout(w),w=S.setTimeout(V,150)}function Z(e,i={}){t=e,X=i.useSticky?"sticky":"fixed",i.classNameAffixed&&(p=i.classNameAffixed),i.classNameAffixing&&(d=i.classNameAffixing);let l=t.style.position,n=t.style.top;t.style.position="absolute",t.style.top="0px",r.top=0,V(),S.addEventListener("resize",J);let g=H(re,{vertical:!0});return()=>{g(),S.removeEventListener("resize",J),t&&(t.style.position=l,t.style.top=n,p&&t.classList.remove(p),d&&t.classList.remove(d),t=null),X="fixed",p=d=null,r=C={},v=m=!1,u=x=null,I=0,w!=null&&(S.clearTimeout(w),w=null)}}function F(e){var i=window.location.hostname.replace("www.",""),l="mai",n="and",g,f;for(l+="lto:"+n,l+="rew@"+i,n+="rew",n+="&#64;"+i,l+="?subject="+encodeURI(document.title),g=function(){this.href=l},f=0;f<e.length;++f)e[f].addEventListener("click",g),e[f].innerHTML=n}function se(){var e=this.parentElement.previousElementSibling,i="is-toggled",l="data-text"+(e.classList.contains(i)?"":"-toggled"),n;e!==null&&(e.classList.toggle(i),n=this.getAttribute(l),n&&n.length&&(this.innerHTML=n))}function B(){var e=document.querySelectorAll(".image-comparison-toggle"),i,l;for(l=0;l<e.length;l++)i=previousElementSibling(e[l].parentElement),i!==null&&(i.classList.add("image-comparison-wrap"),e[l].setAttribute("data-text",e[l].innerHTML),e[l].addEventListener("click",se))}var s=null,c=null,$=.3,h={image:{},image_wrap:{}},y,N,D,ee;function R(e){if(N=e.scrollY,c===null){if(s===null||!s.naturalWidth)return window.setTimeout(R,150),!1;c=s.parentElement,document.body.classList.add("is-loaded"),s.src.substring(s.src.length-4)===".svg"&&c.classList.add("is-svg"),te(),D=N}Math.abs(N-D)*$<1.5||(D=N,!(s.clientHeight-20<c.clientHeight)&&(s.style.transform="translateY("+Math.floor(D*$*-1)+"px)"))}function te(){if(s===null||c===null){y&&y();return}if(h.image.height=s.clientHeight,h.image.height-15<h.image_wrap.height){c.classList.remove("is-full-bleed"),y&&y();return}y&&y(),y=H(R),h.image.naturalWidth=s.naturalWidth,h.image_wrap.width=c.clientWidth,s.clientWidth<c.clientWidth?c.style.width=s.clientWidth+"px":(c.style.width="",h.image.naturalWidth>2100&&h.image.naturalWidth/2<c.clientWidth?(s.style.maxWidth=h.image.naturalWidth/2+"px",c.style.width=h.image.naturalWidth/2+"px"):(s.style.maxWidth="",c.style.width=""))}function ae(){ee&&window.clearTimeout(ee),window.setTimeout(te,150)}function Q(e){e&&(s=e,R(window.pageYOffset),window.addEventListener("resize",ae))}addEventListener("DOMContentLoaded",function(){F(document.querySelectorAll(".get-in-touch-link")),B(),Q(document.querySelector(".post__splash > img")),Z(document.querySelector(".header-menubar"))});})();
